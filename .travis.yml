env:
  global:
  - secure: exlhJ14KXO22FaWhPfZWVV0Uu6wxSBVdbx/Ad7KWeU4OyecFJMdWZ9BvmTDN35jfrlbwxl+PnodrSBWy0HYe79/FmfPDATQw6CWcZxlN1PvoBzPaJjyVaKvDJioVwc0LHB15iwpZdpcmcOVZVGAxG7J1fjRCt6UNHEX/Pre30Z54fl0aGuGXryRPkVbxyPK4UYNA2w615hVQ1tSvrLPNe1pP3TKjHVVra1ds18wFunwviKf2fif+gDLAU44CbJKbISzVQbs+U3w1abdJ19QPzvNzxePZnxIN/h1txJAqqssTYFu6Jp/dyMFbQ9A9vaO1JcxbS2OOkbO5mMQIu1eEhdypSnDrXl3z3AsBc2b/CzDfZq5lAXNpzSeNYFF2cJZRFk6Ab6dq5G654+la+9O1om+Qzg3Ts9VXVLlATwWmJ80hZ5Ag+h3snxoBqO9zIMeMOJhVVKzgqsXB1ZqOSkrwWvNmNpNUp5Ecf+WU+8hXUhthaJp1r7xHspyAGfxDgI25DIeiXLmHCAQJaC+IMRWZAEgWR3BBf+HuXCoRxnhKL66DBxvyPpBSq9OU6L6gG0VmbPCkEf3j8bi8jTZ00OkgUcuuY/jZgLsaoo5S+hzhs9htBD34jTYktsOGYU5K65fyX/S8F/FMDSuqAzfoDxmUcjiGlAxljWssCENCRc6B2CI=
  - secure: F0oPO+HqtBZ9qxWXcjq7mzXBVUHKWoX3zE2VGIumVxwvZANNoIbgJu4jMki6RKc8DIOeLd7YcT7Hl1m+kqs1NJ07iFPNI6z0752m0KOvJR+d2vh9X1pKbeEVjNFwtY15eiZdbNJfFzWgBdZJDEuJfeguRdTCWQqPr7FnPCvPf1nBQAvQuYgMoJK1Un9U3DGdOkMMb0he5QCwQc/DklBm7Qv1GyH2VsGB9v+hACaQsHsweKrosLZJPd/LEKSy2MNlevyO5QUnnrBjeKagrGCCCDjfsnP3OnnpSGhwmHqTSY/rTcoSmEbIe1+k5gaAhEh3oMZhe9jjtN7z03nL5OiTkC2s8Lgw4DsMdNiNp8PiA7WCPS/1N1rrgeZnFhBIz2c4h3ULexS7QHmcDzvUN9YageorPp8dWGxeA4LXEYiCfH8UhcdxPLSdJFHNfB+hfxUo3+it6xu2z4aE2AVFrLNS1M2/OJYUACIvQyiQeh2sKLZFLiwmwukZLlI2XUfogGaiFbhfP9o+IsCkPNbGB5W4ctXI4erqUppfcEn8ki4igB31t07n495yJIw64WzL4puu0SDcsdvDbinEga1+CIJsrHErIEhox8+EFjIGhXV0KMmHJE8gLMYO943qIHLCDNJgWxAlfpx4B95fDykEbw2HlfSH5/SWQlGVFleH7OHgpK0=
  - secure: c3OrsEwYJ/g7zZmeEhG3A06jwk9rr8qDAnI43znyLlgGMuym9EViwM/yAScWz9tb6KjkkIss3VkYeV0bcQKgCE8HVrr49lZgAj28/Japa5TbidQ3tizDFr4KhRMOiI5ZnUD8X+NqOAuhZ7ulQ/AYDqOmeNoKbKVtBNimdjGuGbI6vwjrSwEhUhTZavOP9px0UfG/VI0ZBIeoJIeorGnAv/MKCMgk5HfSaoL692CWDpESis2a68pTeedHSRBCs4aM3BU++szdst2JEQ2qVbpF4ta+bvfLngjZazQsO53erHchWKUP/yqUdS89ZG8PM/yIBsDwcUgbcuy8WQpH7qCW/QN/GlDCug5I+aLfOSBpo92lWtp3RZiP/vvG8WguBSshr4zM+LcppW74NFs8REBOzeD978QSiS0//639Oa/jJaU2zpp+zGf/T/OUsHuVTh5CngQTtc6UIc6gF9Eqp2FVNcgETJSPoEEGdys6pFOfJblYgJFKB8/0LvZJSXh5p5MuleqSk+VJr6gxXyDDFwx9K+CwoejmnUgCEwJaSv6w0HeJdJV3lrnFWivHx/NG4Wg8DlRu/uSR8Kvgwg2hiihMmHyCeWA7BbRBSe5S/y3R5wULjBoNkFcoVRac2UVvWCxZ7170KxwyHO3DVCbEpVUr6Y20Z+SQA3Lgko0sVTcE8q4=
  - secure: 14MqW8PG56KvOnMGTV8jKrzMKjsR5CF6vUW+xLBYls61e1ptX86ElLd0SzaxEkoyLUQ7RNdWDNyW0tKTlpUdgJU1osdYTPMl9L/6nc2i0vH78MJVwN0DJBmou2f3mp21foOoKQVkYc8nYfNsNvXb0DAddRH2M7xcFNS++88qoWRjw6ACMnrH1vFWm1icI17Wd8zhjZqFsOeJIF4rnzcavZMZnhxd/gp+QTfyoh1QtPnlO6h3wYprhKjGubPW+j34N7y0bskuPLHDpjKTeXWZmfvObO9S2C7UZ0CjtOxj1jTyXloar50m/qegkO8EVvOnxFmDhMXR647tManCme3/AxYtwsOpBY/fbs5kp4TMoZXlXQBJLGPTXDlTlRYAtRU8no7pazMp4xP4TvGk5HQ4UIztIZS/ZeHYTIGF/NQALU+XbQcQtT3wNn5LZxpod+JSaad1VJDaM7YUuh2wQroABalX00tGgvkXm3bL1yxIs82OonSA7jGCwaFmAU8rO/ZTCLC9GbO1+BL09J1LBxp+wIfqYiahSnTelxUBeXLkn4ktVn/fk2GZBUaBcTv/YYRoNOc6BvJkB3acsK4GDoDrhQEbkv9H6WDJ6e43vTsbfKV72smJ5JvXJZvB23VUFqFVVGN5tLMDE1e+mkwHFZ4aZ0q3hcU9nl7v2yXoVTObUPQ=
  - secure: JEYD3nhS8hgZI8Mcz4cO/w5J+EMwK0qU84cqHimP27YguySRgWtb6OyVQ1Jvt4bwPDWtf8RqqCYRRRUfxFtv3KtDUZyYRspcvQoCDmakea3HF2dzAe+8xFYa5KmHzMI1Z1pFND06/chdIOUMEZ0OMxc10SJzDNdOw2ZWolWXqBpb9PBV/mQz9XQsGjuzDlSfpsnLetP77seXVF7bqXCK0dqUukLqO1llyF06s8FsDqLDYyA3cZ8TlhRjCZm8qbtvI+6yC490f42VWWXIDKlD+a5hVEhOo/N5V50x1r0ltOipAIjZLxRxNI9FVk7c4FdQ5qw+uUuciW9tgM47kUCx7zWtYKJDlThnQf/RKSGhkbOoYeHzggqjkBdPe2jHIRPhzaL6VuLlM8brZa58hd91cETvRoshwIlJpG9UaRn+hr9HdPR3HQsTFHsxtE5fhRFPv4DlVl9b5HByZDydmJHuGyoYmR4LmTJqpvxnMZyisoUZdMhBXdelleaPQKhM2oDKBYD2qIHRy/Fx+tg5AKG7ieWVRrI3CTQ/IbwaHe/p4U4AO9EXnn8O3I/2EJZnzKwNjNkgrMx4zkEpXyKs2OdR0LRaF26Ifb42f4m3jfDe6hzNNZcrQpfwKJQktXf+t7bfMp/97WqV8aaNcW8GzWJBRZIy0xClUHLUYUDqaKJF5G0=
  - secure: I/updrnUdSztTqVUOo+8Ap59fk5Ejk6R+YQPK+Pm8Ox8heMTrCa1aFbHnjwUr9GRLKmOBsu2hJ3fqg6ysj2rzVo1f75GPTun2B5nLvM8SVMaXfZA+dem44KXsYsUmeYQLM6iUpcS2fImwCvErr5Mtc4wQyABlkM/YHaKcb/jxDSjWYo+vbOLEhmt/VbQMCFLBcQQefw5dznTNqGvovrvJYaTik5VECNeh9kxNhPdbdVAYMyBWiCkTGORRC+ZPqYKJL2ZTFSYQAEVctoKM5bPPNHULCu+vk+jT8eCVGb8tBmfrH0yzUI+ER3EqrN62vnsqr2JajhjUHkyf2baEVRDRmS1oBAcxbztP2MDXezPPdAjbWyFgOj6Sf8udQE+j4f4YP7JNythcbydXQ9zJ4qNfentuGIWNv4hy5xXn4CGPQlbhRrlgKWO1mCmiHKesEZ+4jVkJ21TUKTvE6kssogjltMdJOQxUVWQnCihoalPhXU0YUK9kQ3vFKcteO93Lk8lK3ZSZPeesyV7gXtWSoKyGJTYOjKUAXpQ17g1II93BKFPkxt5YeLbLYQ33YEpw3QAih3xCaLoSdyiiHpCopGGb/mJ3KoPoyOK/TLlcT+KIW5FP2otU1z5cXAxoYWXkM7g4BhVhc7g7zPQeE/dzVaR/Ryoug2M4aONuwRQKtw3PS4=
sudo: required
language: java
services:
- docker
script:
- mvn --quiet --batch-mode verify
- docker build -t salesforce/dockerfile-image-update .
- echo git_api_token=${ITEST_GH_TOKEN} > `pwd`/itest.env
- export user_itest_secrets_file_secret=`pwd`/itest.env
- docker-compose up --abort-on-container-exit
after_success:
- mvn coveralls:report
deploy:
  provider: script
  script: ".travis.deploy.sh"
  skip_cleanup: true
  on:
    branch: master
before_install:
- openssl aes-256-cbc -K $encrypted_96e73e3cb232_key -iv $encrypted_96e73e3cb232_iv
  -in id_rsa_dockerfile_image_update.enc -out id_rsa_dockerfile_image_update -d
